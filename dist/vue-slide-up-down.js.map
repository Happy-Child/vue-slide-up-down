{"version":3,"file":"vue-slide-up-down.js","sources":["../src/slide-up-down.js"],"sourcesContent":["export default {\n  name: 'SlideUpDown',\n\n  props: {\n    active: Boolean,\n    duration: {\n      type: Number,\n      default: 500\n    },\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    useHidden: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data: () => ({\n    style: {},\n    initial: false,\n    hidden: false\n  }),\n\n  watch: {\n    active () {\n      this.layout()\n    }, useHidden (){console.log('useHidden is ' + this.useHidden)}\n  },\n\n  render (h) {\n    // define the attributes to use\n    let attrs = {\n      hidden: this.hidden,\n      'aria-hidden': !this.active,\n      'aria-expanded': this.active\n    };\n\n    if (!this.useHidden)\n    {\n      delete attrs.hidden;\n    }\n\n    // render the component\n    return h(\n        this.tag,\n        {\n          style: this.style,\n          ref: 'container',\n          attrs: attrs,\n          on: { transitionend: this.onTransitionEnd }\n        },\n        this.$slots.default\n    )\n  },\n\n  mounted () {\n    this.layout()\n    this.initial = true\n  },\n\n  created ()\n  {\n    this.hidden = !this.active;\n  },\n\n  computed: {\n    el () {\n      return this.$refs.container\n    }\n  },\n\n  methods: {\n    layout () {\n      if (this.active) {\n        this.hidden = false;\n        this.$emit('open-start')\n        if (this.initial) {\n          this.setHeight('0px', () => this.el.scrollHeight + 'px')\n        }\n      } else {\n        this.$emit('close-start')\n        this.setHeight(this.el.scrollHeight + 'px', () => '0px')\n      }\n    },\n\n    asap (callback) {\n      if (!this.initial) {\n        callback()\n      } else {\n        this.$nextTick(callback)\n      }\n    },\n\n    setHeight (temp, afterRelayout) {\n      this.style = { height: temp }\n\n      this.asap(() => {\n        // force relayout so the animation will run\n        this.__ = this.el.scrollHeight\n\n        this.style = {\n          height: afterRelayout(),\n          overflow: 'hidden',\n          'transition-property': 'height',\n          'transition-duration': this.duration + 'ms'\n        }\n      })\n    },\n\n    onTransitionEnd () {\n      if (this.active) {\n        this.style = {}\n        this.$emit('open-end')\n      } else {\n        this.style = {\n          height: '0',\n          overflow: 'hidden'\n        }\n        this.hidden = true;\n        this.$emit('close-end')\n      }\n    }\n  }\n}\n"],"names":["name","props","active","Boolean","duration","type","Number","default","tag","String","useHidden","data","style","initial","hidden","watch","layout","console","log","this","render","h","attrs","ref","on","transitionend","onTransitionEnd","$slots","mounted","created","computed","el","$refs","container","methods","$emit","setHeight","scrollHeight","asap","callback","$nextTick","temp","afterRelayout","height","__","overflow"],"mappings":"AAAA,MAAe,CACbA,KAAM,cAENC,MAAO,CACLC,OAAQC,QACRC,SAAU,CACRC,KAAMC,OACNC,QAAS,KAEXC,IAAK,CACHH,KAAMI,OACNF,QAAS,OAEXG,UAAW,CACTL,KAAMF,QACNI,SAAS,IAIbI,uBACEC,MAAO,GACPC,SAAS,EACTC,QAAQ,IAGVC,MAAO,CACLb,uBACOc,UACJN,qBAAaO,QAAQC,IAAI,gBAAkBC,KAAKT,aAGrDU,gBAAQC,OAEFC,EAAQ,CACVR,OAAQK,KAAKL,sBACGK,KAAKjB,uBACJiB,KAAKjB,eAGnBiB,KAAKT,kBAEDY,EAAMR,OAIRO,EACHF,KAAKX,IACL,CACEI,MAAOO,KAAKP,MACZW,IAAK,YACLD,MAAOA,EACPE,GAAI,CAAEC,cAAeN,KAAKO,kBAE5BP,KAAKQ,OAAOpB,UAIlBqB,wBACOZ,cACAH,SAAU,GAGjBgB,wBAEOf,QAAUK,KAAKjB,QAGtB4B,SAAU,CACRC,qBACSZ,KAAKa,MAAMC,YAItBC,QAAS,CACPlB,6BACMG,KAAKjB,aACFY,QAAS,OACTqB,MAAM,cACPhB,KAAKN,cACFuB,UAAU,wBAAajB,EAAKY,GAAGM,aAAe,cAGhDF,MAAM,oBACNC,UAAUjB,KAAKY,GAAGM,aAAe,sBAAY,UAItDC,cAAMC,GACCpB,KAAKN,aAGH2B,UAAUD,GAFfA,KAMJH,mBAAWK,EAAMC,mBACV9B,MAAQ,CAAE+B,OAAQF,QAElBH,kBAEEM,GAAKzB,EAAKY,GAAGM,eAEbzB,MAAQ,CACX+B,OAAQD,IACRG,SAAU,+BACa,+BACA1B,EAAKf,SAAW,SAK7CsB,2BACMP,KAAKjB,aACFU,MAAQ,QACRuB,MAAM,mBAENvB,MAAQ,CACX+B,OAAQ,IACRE,SAAU,eAEP/B,QAAS,OACTqB,MAAM"}